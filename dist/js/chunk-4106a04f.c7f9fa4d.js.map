{"version":3,"sources":["webpack:///./src/components/Search/SearchView.vue?142d","webpack:///./src/components/Search/SearchView.vue?dfb5","webpack:///src/components/Search/SearchView.vue","webpack:///./src/components/Search/SearchView.vue?1c08","webpack:///./src/components/Search/SearchView.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","$route","params","showKeyword","on","backFindView","onSearchKeyword","model","value","callback","$$v","keyword","expression","enterSingerView","directives","name","rawName","$event","intoSearchResultsPage","_v","_s","_l","item","index","key","i","score","searchWord","class","best","iconUrl","content","staticRenderFns","component"],"mappings":"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","file":"js/chunk-4106a04f.c7f9fa4d.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=style&index=0&id=1099e186&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=style&index=0&id=1099e186&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"tag\":\"div\",\"name\":\"search\"}},[_c('div',{staticClass:\"searchView\"},[_c('div',{staticClass:\"searchView-top\"},[_c('div',{staticClass:\"search\"},[_c('form',{attrs:{\"action\":\"/\"}},[_c('van-search',{attrs:{\"show-action\":\"\",\"placeholder\":this.$route.params.showKeyword || '请输入你想要的'},on:{\"cancel\":_vm.backFindView,\"input\":_vm.onSearchKeyword},model:{value:(_vm.keyword),callback:function ($$v) {_vm.keyword=$$v},expression:\"keyword\"}})],1)]),_c('div',{staticClass:\"singer\",on:{\"click\":_vm.enterSingerView}},[_c('span',{staticClass:\"icon-singer\"},[_c('span',{staticClass:\"path1\"}),_c('span',{staticClass:\"path2\"}),_c('span',{staticClass:\"path3\"}),_c('span',{staticClass:\"path4\"}),_c('span',{staticClass:\"path5\"}),_c('span',{staticClass:\"path6\"})])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.keyword ),expression:\"keyword \"}],staticClass:\"theSearchResultsView\"},[_c('div',{staticClass:\"searchKeyword\",on:{\"click\":function($event){return _vm.intoSearchResultsPage(_vm.keyword)}}},[_c('span',[_vm._v(\"搜索\")]),_vm._v(\"“\"+_vm._s(_vm.keyword)+\"” \")]),_vm._l((_vm.recommendKeywordLists),function(item,index){return _c('div',{key:index,staticClass:\"recommendSearchKeyword-item\",on:{\"click\":function($event){return _vm.intoSearchResultsPage(item.keyword)}}},[_c('div',{staticClass:\"search-icon\"},[_c('van-icon',{attrs:{\"name\":\"search\",\"color\":\"rgb(174,175,178)\",\"size\":\"16px\"}})],1),_c('div',{staticClass:\"recommendSearch-txt\"},[_vm._v(\" \"+_vm._s(item.keyword)+\" \")])])})],2),_c('div',{staticClass:\"searchContent\"},[_c('div',{staticClass:\"search-hotList\"},[_c('p',{staticClass:\"hotList-title\"},[_vm._v(\"热搜榜\")]),_c('div',{staticClass:\"hotList\"},[_c('ul',_vm._l((_vm.hotList),function(item,i){return _c('li',{key:item.score,on:{\"click\":function($event){return _vm.intoSearchResultsPage(item.searchWord)}}},[_c('div',{staticClass:\"hotList-left\",class:{best:(i+1)<=4}},[_vm._v(\" \"+_vm._s(i+1)+\" \")]),_c('div',{staticClass:\"hotList-right\"},[_c('p',{staticClass:\"hotList-name\",class:{best:(i+1)<=4}},[_vm._v(\" \"+_vm._s(item.searchWord)+\" \"),_c('img',{staticClass:\"hot-icon\",attrs:{\"src\":item.iconUrl,\"alt\":\"\",\"v-if\":item.iconUrl}})]),_c('p',{staticClass:\"hotList-describe\"},[_vm._v(_vm._s(item.content))])])])}),0)])])]),_c('transition',{attrs:{\"name\":\"singer\"}},[_c('router-view')],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <transition tag=\"div\" name=\"search\">\r\n       <div class=\"searchView\">\r\n           <div class=\"searchView-top\">\r\n               <div class=\"search\">\r\n                   <form action=\"/\">\r\n                       <van-search\r\n                               v-model=\"keyword\"\r\n                               show-action\r\n                               :placeholder=\"this.$route.params.showKeyword || '请输入你想要的'\"\r\n                               @cancel=\"backFindView\"\r\n                               @input=\"onSearchKeyword\"\r\n                       />\r\n                   </form>\r\n               </div>\r\n               <div class=\"singer\" @click=\"enterSingerView\">\r\n                   <span class=\"icon-singer\" ><span class=\"path1\"></span><span class=\"path2\"></span><span class=\"path3\"></span><span class=\"path4\"></span><span class=\"path5\"></span><span class=\"path6\"></span></span>\r\n               </div>\r\n           </div>\r\n\r\n<!--           搜索结果     START-->\r\n           <div v-show=\"keyword \" class=\"theSearchResultsView\">\r\n               <div @click=\"intoSearchResultsPage(keyword)\" class=\"searchKeyword\">\r\n                    <span>搜索</span>“{{keyword}}”\r\n               </div>\r\n               <div @click=\"intoSearchResultsPage(item.keyword)\" class=\"recommendSearchKeyword-item\" v-for=\"(item,index) in recommendKeywordLists\" :key=\"index\">\r\n\r\n                   <div class=\"search-icon\">\r\n                       <van-icon name=\"search\" color=\"rgb(174,175,178)\" size=\"16px\"/>\r\n                   </div>\r\n                   <div class=\"recommendSearch-txt\">\r\n                       {{item.keyword}}\r\n                   </div>\r\n               </div>\r\n           </div>\r\n<!--           搜索结果     END-->\r\n\r\n<!--           搜索页面书主要内容-->\r\n            <div class=\"searchContent\">\r\n                <div class=\"search-hotList\">\r\n                    <p class=\"hotList-title\">热搜榜</p>\r\n                    <div class=\"hotList\">\r\n                        <ul>\r\n                            <li @click=\"intoSearchResultsPage(item.searchWord)\" v-for=\"(item,i) in hotList\" :key=\"item.score\">\r\n                                <div class=\"hotList-left\" :class=\"{best:(i+1)<=4}\">\r\n                                    {{i+1}}\r\n                                </div>\r\n                                <div class=\"hotList-right\">\r\n                                    <p class=\"hotList-name\" :class=\"{best:(i+1)<=4}\">\r\n                                        {{item.searchWord}}\r\n\r\n                                        <img class=\"hot-icon\" :src=\"item.iconUrl\" alt=\"\" :v-if=\"item.iconUrl\">\r\n\r\n                                    </p>\r\n                                    <p class=\"hotList-describe\">{{item.content}}</p>\r\n                                </div>\r\n                            </li>\r\n\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n<!--           搜索页面书主要内容     End-->\r\n\r\n\r\n              <transition name=\"singer\">\r\n                  <router-view></router-view>\r\n              </transition>\r\n\r\n       </div>\r\n   </transition>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"SearchView\",\r\n        data:() => ({\r\n            keyword : '',\r\n            hotList : [],\r\n            recommendKeywordLists:[],\r\n        }),\r\n        methods:{\r\n            intoSearchResultsPage(keyword){\r\n                console.log(keyword)\r\n                this.$router.push({name : 'DetailsPage',query:{keyword}});\r\n            },\r\n            backFindView(){\r\n                this.$router.go(-1);\r\n\r\n            },\r\n\r\n            enterSingerView(){\r\n               this.$router.push({name:'Singer'}) ;\r\n            },\r\n            onSearchKeyword(){\r\n              if(this.keyword.length > 0){\r\n                  let keyword = encodeURIComponent(this.keyword);\r\n                  this.axios({\r\n                      url :`/search/suggest?keywords=${keyword}&type=mobile`,\r\n                      withCredentials : true ,\r\n                  }).then(res => {\r\n                      console.log(res);\r\n                      if(res.data.result){\r\n                          this.recommendKeywordLists = res.data.result.allMatch ;\r\n                      }else{\r\n                          this.recommendKeywordLists = [];\r\n                      }\r\n\r\n                  })\r\n              }\r\n\r\n            }\r\n        },\r\n        mounted() {\r\n\r\n            this.keyword = this.$route.params.relKeyword ;\r\n\r\n            this.axios({\r\n                url: `http://localhost:3000/search/hot/detail`,\r\n                withCredentials: true //关键\r\n            }).then(res =>  {\r\n                this.hotList = res.data.data  ;\r\n            });\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    .singer-enter,\r\n    .singer-leave-to{\r\n        transform: translateX(100%);\r\n    }\r\n    .singer-enter-to,\r\n    .singer-leave{\r\n        transform: translateX(0);\r\n    }\r\n    .singer-enter-active,\r\n    .singer-leave-active{\r\n        transition : all 0.3s ;\r\n    }\r\n\r\n    .search-enter,\r\n    .search-leave-to{\r\n        opacity : 0 ;\r\n    }\r\n    .search-enter-to,\r\n    .search-leave{\r\n       opacity : 1 ;\r\n    }\r\n    .search-enter-active,\r\n    .search-leave-active{\r\n        transition : all 0.2s linear;\r\n    }\r\n\r\n.searchView{\r\n    width : 100vw ;\r\n    height : 100vh ;\r\n    position : fixed;\r\n    top : 0 ;\r\n    background-color : #fff;\r\n    z-index :100 ;\r\n\r\n    .theSearchResultsView{\r\n        position : absolute;\r\n        top : 50px ;\r\n        left : 0 ;\r\n        width : 100vw ;\r\n        height : calc(100vh - 54px ) ;\r\n        background-color : #fff ;\r\n        z-index : 50 ;\r\n\r\n        .searchKeyword{\r\n            height : 40px ;\r\n            line-height : 40px ;\r\n            margin-left  : 12px ;\r\n            padding-left :4px ;\r\n            font-size : 13px ;\r\n            color : rgb(90,124,171);\r\n            border-bottom : 1px solid rgba(7,17,27,0.1);\r\n\r\n            span{\r\n                margin-right : 10px ;\r\n            }\r\n        }\r\n\r\n        .recommendSearchKeyword-item{\r\n            margin-left : 12px ;\r\n            height : 40px ;\r\n            line-height : 40px ;\r\n            display: flex;\r\n            font-size : 13px ;\r\n\r\n            .search-icon{\r\n                flex : 0 0 30px ;\r\n                display: flex;\r\n               justify-content: center;\r\n                align-items: center;\r\n            }\r\n\r\n            .recommendSearch-txt{\r\n                flex : 1 ;\r\n                padding-left : 4px ;\r\n                border-bottom : 1px solid rgba(0,0,0,0.1);\r\n            }\r\n        }\r\n    }\r\n\r\n    .searchView-top{\r\n        height : 54px ;\r\n        width : 100vw ;\r\n        display: flex ;\r\n\r\n       .search{\r\n           flex : 1 ;\r\n\r\n           .van-search__content{\r\n               border-radius : 20px ;\r\n           }\r\n\r\n           .van-search__action{\r\n               font-weight : 700 ;\r\n               font-size : 16px ;\r\n           }\r\n       }\r\n\r\n        .singer{\r\n            flex : 0 0 50px ;\r\n            padding :14px 10px 10px ;\r\n\r\n\r\n            span{\r\n                font-size : 26px ;\r\n            }\r\n        }\r\n    }\r\n\r\n    /*搜索页面主要内容样式*/\r\n    .searchContent{\r\n        position : fixed;\r\n        top: 50px;\r\n    }\r\n\r\n    .search-hotList{\r\n        padding : 10px ;\r\n        overflow: hidden;\r\n\r\n        .hotList-title{\r\n            font-size : 13px ;\r\n            font-weight : 700 ;\r\n        }\r\n\r\n        .hotList{\r\n            width : 100% ;\r\n\r\n            overflow: hidden;\r\n\r\n            >ul {\r\n                width : 100% ;\r\n                overflow: hidden;\r\n\r\n                li{\r\n                    width : 50% ;\r\n                    float : left ;\r\n                    height : 40px ;\r\n                    display: flex;\r\n                    overflow: hidden;\r\n                    margin-bottom : 15px ;\r\n                }\r\n            }\r\n        }\r\n        .hotList-left{\r\n            width : 40px ;\r\n            color : rgb(153,153,153) ;\r\n            flex : 0 0 30px;\r\n            text-align: center;\r\n            line-height : 40px ;\r\n            font-weight : 700 ;\r\n\r\n            &.best{\r\n                color : rgb(235,77,68);\r\n            }\r\n        }\r\n\r\n        .hotList-right{\r\n           line-height : 20px ;\r\n            font-family: '微软雅黑';\r\n\r\n\r\n            .hotList-name{\r\n                font-size : 13px ;\r\n\r\n                .hot-icon{\r\n                    height : 12px ;\r\n                    vertical-align: middle;\r\n                }\r\n\r\n                &.best{\r\n                    font-weight : 700 ;\r\n                }\r\n            }\r\n\r\n            .hotList-describe{\r\n                font-size : 10px ;\r\n                color : rgb(153,153,153);\r\n                text-overflow: ellipsis;\r\n                white-space: nowrap;\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchView.vue?vue&type=template&id=1099e186&scoped=true&\"\nimport script from \"./SearchView.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchView.vue?vue&type=style&index=0&id=1099e186&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1099e186\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}