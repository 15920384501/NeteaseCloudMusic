(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4515dd81"],{"559d":function(t,e,s){},cfb3:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ManagementPlaylistMenu-wrapper"},[s("div",{staticClass:"ManagementPlaylistMenu-top"},[t.showSelectAll?s("div",{staticClass:"top-all",on:{click:t.onChooseAll}},[t._v("全选")]):s("div",{staticClass:"top-all",on:{click:t.onNotChooseAll}},[t._v("取消全选")]),t._v(" 管理菜单 "),s("div",{staticClass:"top-finish",on:{click:function(e){return t.$router.go(-1)}}},[t._v("完成")])]),s("div",{staticClass:"ManagementPlaylistMenu-list"},t._l(t.showPlaylist,(function(e,i){return s("div",{key:e.id,staticClass:"ManagementPlaylistMenu-item"},[s("div",{staticClass:"item-checkbox"},[s("van-checkbox",{model:{value:t.checkedList[i],callback:function(e){t.$set(t.checkedList,i,e)},expression:"checkedList[index]"}})],1),s("div",{staticClass:"item-pic"},[s("img",{attrs:{src:e.coverImgUrl+"?param=200y200",alt:""}})]),s("div",{staticClass:"item-txt"},[s("p",{staticClass:"item-playlistName"},[t._v(t._s(e.name))]),s("p",{staticClass:"item-playlistCount"},[t._v(t._s(e.trackCount)+"首")])])])})),0),s("div",{staticClass:"deleteBtn",class:{can:t.isChoose},on:{click:t.deletePlaylist}},[s("span",{staticClass:"icon-delete"}),t._v("删除 ")])])},c=[],n=(s("4de4"),s("d81d"),s("2241")),l={name:"TheManagementMenu",data:function(){return{checkedList:[!1,!1,!1],showSelectAll:!0}},methods:{onChooseAll:function(){for(var t=new Array,e=0;e<this.checkedList.length;e++)t.push(!0);this.checkedList=t,this.showSelectAll=!1},onNotChooseAll:function(){for(var t=0;t<this.checkedList.length;t++)this.checkedList[t]=!1;this.showSelectAll=!0},deletePlaylist:function(){var t=this;console.log(this.whichChoose),n["a"].confirm({title:"确认删除歌单？"}).then((function(){var e=function(e){t.axios({url:"/playlist/delete?id=".concat(t.showPlaylist[t.whichChoose[e]].id),withCredentials:!0}).then((function(s){console.log(s),t.$emit("deleteItem",t.showPlaylist[t.whichChoose[e]].id),t.checkedList=t.checkedList.filter((function(t){return!1===t})),console.log(t.checkedList,"checkedList")}))};for(var s in t.whichChoose)e(s)})).catch((function(t){console.log(t)}))}},computed:{isChoose:function(){return this.checkedList.filter((function(t){return!0===t})).length>0},whichChoose:function(){return this.checkedList.map((function(t,e){if(t)return e})).filter((function(t){return void 0!=t}))}},props:{showPlaylist:{typeof:Array}},watch:{showPlaylist:{handler:function(t){this.showPlaylist=t},immediate:!0,deep:!0}},mounted:function(){if(this.checkedList.length<this.showPlaylist.length)for(var t=this.showPlaylist.length-this.checkedList.length,e=0;e<t;e++)this.checkedList.push(!1);console.log(this.showPlaylist)}},o=l,a=(s("edd2"),s("2877")),h=Object(a["a"])(o,i,c,!1,null,"b6de1a4c",null);e["default"]=h.exports},d81d:function(t,e,s){"use strict";var i=s("23e7"),c=s("b727").map,n=s("1dde"),l=s("ae40"),o=n("map"),a=l("map");i({target:"Array",proto:!0,forced:!o||!a},{map:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}})},edd2:function(t,e,s){"use strict";var i=s("559d"),c=s.n(i);c.a}}]);
//# sourceMappingURL=chunk-4515dd81.6ddf5ba2.js.map