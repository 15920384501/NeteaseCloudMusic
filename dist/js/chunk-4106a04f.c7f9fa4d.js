(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4106a04f"],{"87b4":function(t,s,e){"use strict";var a=e("9b01"),i=e.n(a);i.a},"9b01":function(t,s,e){},de0b:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{tag:"div",name:"search"}},[e("div",{staticClass:"searchView"},[e("div",{staticClass:"searchView-top"},[e("div",{staticClass:"search"},[e("form",{attrs:{action:"/"}},[e("van-search",{attrs:{"show-action":"",placeholder:this.$route.params.showKeyword||"请输入你想要的"},on:{cancel:t.backFindView,input:t.onSearchKeyword},model:{value:t.keyword,callback:function(s){t.keyword=s},expression:"keyword"}})],1)]),e("div",{staticClass:"singer",on:{click:t.enterSingerView}},[e("span",{staticClass:"icon-singer"},[e("span",{staticClass:"path1"}),e("span",{staticClass:"path2"}),e("span",{staticClass:"path3"}),e("span",{staticClass:"path4"}),e("span",{staticClass:"path5"}),e("span",{staticClass:"path6"})])])]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"keyword "}],staticClass:"theSearchResultsView"},[e("div",{staticClass:"searchKeyword",on:{click:function(s){return t.intoSearchResultsPage(t.keyword)}}},[e("span",[t._v("搜索")]),t._v("“"+t._s(t.keyword)+"” ")]),t._l(t.recommendKeywordLists,(function(s,a){return e("div",{key:a,staticClass:"recommendSearchKeyword-item",on:{click:function(e){return t.intoSearchResultsPage(s.keyword)}}},[e("div",{staticClass:"search-icon"},[e("van-icon",{attrs:{name:"search",color:"rgb(174,175,178)",size:"16px"}})],1),e("div",{staticClass:"recommendSearch-txt"},[t._v(" "+t._s(s.keyword)+" ")])])}))],2),e("div",{staticClass:"searchContent"},[e("div",{staticClass:"search-hotList"},[e("p",{staticClass:"hotList-title"},[t._v("热搜榜")]),e("div",{staticClass:"hotList"},[e("ul",t._l(t.hotList,(function(s,a){return e("li",{key:s.score,on:{click:function(e){return t.intoSearchResultsPage(s.searchWord)}}},[e("div",{staticClass:"hotList-left",class:{best:a+1<=4}},[t._v(" "+t._s(a+1)+" ")]),e("div",{staticClass:"hotList-right"},[e("p",{staticClass:"hotList-name",class:{best:a+1<=4}},[t._v(" "+t._s(s.searchWord)+" "),e("img",{staticClass:"hot-icon",attrs:{src:s.iconUrl,alt:"","v-if":s.iconUrl}})]),e("p",{staticClass:"hotList-describe"},[t._v(t._s(s.content))])])])})),0)])])]),e("transition",{attrs:{name:"singer"}},[e("router-view")],1)],1)])},i=[],r={name:"SearchView",data:function(){return{keyword:"",hotList:[],recommendKeywordLists:[]}},methods:{intoSearchResultsPage:function(t){console.log(t),this.$router.push({name:"DetailsPage",query:{keyword:t}})},backFindView:function(){this.$router.go(-1)},enterSingerView:function(){this.$router.push({name:"Singer"})},onSearchKeyword:function(){var t=this;if(this.keyword.length>0){var s=encodeURIComponent(this.keyword);this.axios({url:"/search/suggest?keywords=".concat(s,"&type=mobile"),withCredentials:!0}).then((function(s){console.log(s),s.data.result?t.recommendKeywordLists=s.data.result.allMatch:t.recommendKeywordLists=[]}))}}},mounted:function(){var t=this;this.keyword=this.$route.params.relKeyword,this.axios({url:"http://localhost:3000/search/hot/detail",withCredentials:!0}).then((function(s){t.hotList=s.data.data}))}},n=r,o=(e("87b4"),e("2877")),c=Object(o["a"])(n,a,i,!1,null,"1099e186",null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-4106a04f.c7f9fa4d.js.map